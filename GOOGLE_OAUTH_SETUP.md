# Google OAuth 설정 가이드

## OAuth 클라이언트 ID가 없어서 발생하는 오류 해결

현재 `.env.local`에 `your-google-client-id.apps.googleusercontent.com` 플레이스홀더 값이 설정되어 있어서 오류가 발생합니다.

## 해결 방법

### 1. Google Cloud Console 접속
https://console.cloud.google.com/

### 2. 프로젝트 생성 또는 선택
- 새 프로젝트 생성: "daizzi" 또는 원하는 이름
- 기존 프로젝트가 있다면 선택

### 3. OAuth 동의 화면 구성
1. 왼쪽 메뉴에서 "API 및 서비스" > "OAuth 동의 화면" 클릭
2. 사용자 유형 선택:
   - **외부** 선택 (일반 사용자용)
   - "만들기" 클릭
3. 앱 정보 입력:
   - **앱 이름**: 상가다이찌
   - **사용자 지원 이메일**: 본인 이메일
   - **개발자 연락처 정보**: 본인 이메일
   - "저장 후 계속" 클릭
4. 범위(Scopes) - 기본값으로 두고 "저장 후 계속"
5. 테스트 사용자 - 본인 이메일 추가 후 "저장 후 계속"
6. 요약 - "대시보드로 돌아가기"

### 4. OAuth 클라이언트 ID 생성
1. "API 및 서비스" > "사용자 인증 정보" 클릭
2. 상단의 "+ 사용자 인증 정보 만들기" 클릭
3. "OAuth 클라이언트 ID" 선택
4. 애플리케이션 유형: **웹 애플리케이션** 선택
5. 이름: "상가다이찌 웹 클라이언트" (원하는 이름)
6. 승인된 JavaScript 원본 추가:
   ```
   http://localhost:3001
   ```
7. 승인된 리디렉션 URI 추가:
   ```
   http://localhost:3001/api/auth/callback/google
   ```
8. "만들기" 클릭

### 5. 클라이언트 ID 및 시크릿 복사
생성 완료 팝업이 나타나면:
- **클라이언트 ID** 복사
- **클라이언트 보안 비밀번호** 복사

### 6. .env.local 파일 업데이트
복사한 값을 `.env.local` 파일에 입력:

```env
GOOGLE_CLIENT_ID=복사한-클라이언트-ID.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=복사한-클라이언트-시크릿
```

### 7. 개발 서버 재시작
```bash
# 개발 서버를 재시작해야 환경 변수가 적용됩니다
# 현재 서버를 중지하고 다시 시작
npm run dev
```

## 프로덕션 배포 시 추가 설정

배포할 때는 승인된 리디렉션 URI에 실제 도메인 추가:
```
https://yourdomain.com/api/auth/callback/google
```

## 참고사항
- Google OAuth는 테스트 모드일 때 등록된 테스트 사용자만 로그인 가능
- 일반 공개하려면 OAuth 동의 화면을 "프로덕션으로 게시" 필요
- 앱 확인 프로세스가 필요할 수 있음 (최대 6주 소요)

## 문제 해결
- 오류가 계속되면 브라우저 캐시 삭제
- 시크릿 모드/인코그니토 모드에서 테스트
- 개발 서버가 정확히 3001 포트에서 실행 중인지 확인
